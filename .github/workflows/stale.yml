name: Stale issues and PRs

on:
  schedule:
    - cron: "0 6 * * 1"  # Every Monday at 6 AM UTC
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - name: Close stale issues and PRs
        uses: actions/stale@v10
        with:
          stale-issue-message: >
            This issue has been automatically marked as stale because it has not
            had recent activity. It will be closed in 14 days if no further
            activity occurs. If this issue is still relevant, please comment to
            keep it open.
          stale-pr-message: >
            This pull request has been automatically marked as stale because it
            has not had recent activity. It will be closed in 14 days if no
            further activity occurs. If this PR is still relevant, please push
            new commits or comment to keep it open.
          close-issue-message: >
            This issue was closed automatically because it has been stale for
            too long. Feel free to reopen if it is still relevant.
          close-pr-message: >
            This pull request was closed automatically because it has been stale
            for too long. Feel free to reopen if it is still relevant.
          days-before-stale: 60
          days-before-close: 14
          stale-issue-label: stale
          stale-pr-label: stale
          exempt-issue-labels: "pinned,security,bug"
          exempt-pr-labels: "pinned,security"
